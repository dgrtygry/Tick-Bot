<!DOCTYPE html>
<html>
<head>
    <title>Tick-Bot: Your Friendly Chat Companion</title>
    <style>
        /* ... CSS styles remain unchanged ... */
    </style>
</head>
<body>
    <h1>Tick-Bot: Your Friendly Chat Companion</h1>
    <div id="chat-container">
        <div id="message-box"></div>
        <input type="text" id="user-input" placeholder="Type your message here" autofocus />
    </div>

    <div id="theme-toggle">
        <label for="light-theme"><input type="radio" id="light-theme" name="theme" checked>Light</label>
        <label for="dark-theme"><input type="radio" id="dark-theme" name="theme">Dark</label>
    </div>

    <div id="chat-actions">
        <button id="clear-chat">Clear Chat</button>
        <button id="save-chat">Save Chat</button>
    </div>

    <div id="upload-box">
        <label for="image-upload">Upload Picture:</label>
        <input type="file" id="image-upload" accept="image/*">
    </div>

    <div id="data-upload-box">
        <label for="data-upload">Upload Data File:</label>
        <input type="file" id="data-upload" accept=".txt">
    </div>

    <div id="html-upload-box">
        <label for="html-upload">Upload HTML File:</label>
        <input type="file" id="html-upload" accept=".html">
    </div>

    <footer>
        <p style="text-align: center; font-size: 12px;">
            &copy; 2015-2023 and beyond Tick Studios
        </p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const chatLog = document.getElementById("message-box");
            const userInput = document.getElementById("user-input");
            const lightThemeRadio = document.getElementById("light-theme");
            const darkThemeRadio = document.getElementById("dark-theme");
            const clearChatButton = document.getElementById("clear-chat");
            const saveChatButton = document.getElementById("save-chat");
            const imageUploadInput = document.getElementById("image-upload");
            const dataUploadInput = document.getElementById("data-upload");
            const htmlUploadInput = document.getElementById("html-upload");

            // List of Tick-Bot's greetings
            const greetings = [
                "Hey there!",
                "Hello!",
                "Hi!",
                "Hey, how's it going?",
                "Greetings!",
                "Nice to see you!"
            ];

            // List of Tick-Bot's conversation starters
            const conversationStarters = [
                "So, what's new with you?",
                "Got any exciting plans for the weekend?",
                "Tell me something funny that happened to you recently.",
                "Do you have any hobbies or interests you'd like to share?"
            ];

            // List of Tick-Bot's responses
            const responses = [
                "That sounds interesting.",
                "Tell me more!",
                "I'm curious to know more.",
                "Wow, that's amazing!",
                "I never thought about it that way.",
                "You always have the best stories.",
                "I'm glad you shared that with me.",
                "That's quite fascinating!",
                "Thanks for telling me about that.",
                "I appreciate you sharing that with me.",
                "I'm enjoying our conversation.",
                "You have a unique perspective on things."
            ];

            // List of Tick-Bot's responses to questions
            const questionAnswers = [
                "I'm sorry, I don't have the answer to that question.",
                "I'm not sure, but I can try to find some information for you.",
                "That's a great question! Unfortunately, I don't have the answer.",
                "I'm afraid I don't have the information you're looking for.",
                "Hmm, I'm not sure about that. Would you like me to search the internet for more details?"
            ];

            // Function to generate a response from Tick-Bot
            function generateResponse(userInput) {
                const lowercaseInput = userInput.toLowerCase();

                // Check if the user greeted Tick-Bot
                if (greetings.includes(lowercaseInput)) {
                    return randomChoice(greetings);
                }

                // Check if the user wants to start a conversation
                else if (lowercaseInput === "let's start a topic" || conversationStarters.includes(lowercaseInput)) {
                    return randomChoice(conversationStarters);
                }

                // Check if the user mentioned a topic Tick-Bot doesn't know about
                else if (lowercaseInput.includes("topic")) {
                    const topic = extractTopic(userInput);
                    if (topic) {
                        return `I've never heard of this '${topic}' before! Tell me more about it.`;
                    } else {
                        return "Hmm, that's an interesting topic. Could you tell me more about it?";
                    }
                }

                // Check if the user asked a question
                else if (userInput.includes("?")) {
                    return randomChoice(questionAnswers);
                }

                // Check if the user provided a negative response
                else if (isNegativeResponse(lowercaseInput)) {
                    return "I'm sorry if I said something wrong. Let's change the topic.";
                }

                // Check if the user asked how Tick-Bot is doing
                else if (lowercaseInput.includes("how") && lowercaseInput.includes("you")) {
                    return "I'm an AI, so I don't have feelings, but I'm here to chat with you!";
                }

                // Check if the user asked about the creator
                else if (lowercaseInput.includes("who") && lowercaseInput.includes("created")) {
                    return "Tick Studios created me.";
                }

                // Check if the user asked who Tick Studios is
                else if (lowercaseInput.includes("who") && lowercaseInput.includes("tick studios")) {
                    return "Tick Studios is a company that is developing the latest ways to help people and also comes up with the best technologies that are web-based. Tick Studios is also a company that develops writing-based software.";
                }

                // If none of the above conditions are met, generate a generic response
                else {
                    return randomChoice(responses);
                }
            }

            // Function to extract the topic from user input
            function extractTopic(userInput) {
                const words = userInput.split(" ");
                const topicIndex = words.findIndex((word) => word.toLowerCase() === "topic");
                if (topicIndex !== -1 && topicIndex + 1 < words.length) {
                    return words[topicIndex + 1];
                }
                return "";
            }

            // Function to check if the user provided a negative response
            function isNegativeResponse(userInput) {
                const negativeWords = ["no", "not", "don't", "never"];
                const words = userInput.split(" ");
                return words.some((word) => negativeWords.includes(word.toLowerCase()));
            }

            // Function to search the internet for answers
            function searchInternet(userInput) {
                // Use your preferred method to search the internet based on the user's question
                // Here, we simply return a placeholder response
                return "I'm sorry, I'm not able to search the internet at the moment. Is there anything else I can help you with?";
            }

            // Function to choose a random item from an array
            function randomChoice(array) {
                const randomIndex = Math.floor(Math.random() * array.length);
                return array[randomIndex];
            }

            // Function to handle user's message
            function handleMessage() {
                const userInputValue = userInput.value;
                const userMessage = `<p class="user-message">${userInputValue}</p>`;
                const botMessage = `<p class="bot-message">${generateResponse(userInputValue)}</p>`;
                chatLog.innerHTML += userMessage + botMessage;
                chatLog.scrollTop = chatLog.scrollHeight;
                userInput.value = "";
            }

            // Event listener for user input
            userInput.addEventListener("keydown", function (event) {
                if (event.key === "Enter") {
                    handleMessage();
                }
            });

            // Event listener for clear chat button
            clearChatButton.addEventListener("click", function () {
                chatLog.innerHTML = "";
            });

            // Event listener for save chat button
            saveChatButton.addEventListener("click", function () {
                const chatText = chatLog.innerText;
                const blob = new Blob([chatText], { type: "text/plain;charset=utf-8" });
                saveAs(blob, "chat_log.txt");
            });

            // Event listener for image upload
            imageUploadInput.addEventListener("change", function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const imageMessage = `<p class="bot-message">That's a cool picture! Tell me more.</p>`;
                        chatLog.innerHTML += imageMessage;
                        chatLog.scrollTop = chatLog.scrollHeight;
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Event listener for data file upload
            dataUploadInput.addEventListener("change", function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        // Process the data file here
                    };
                    reader.readAsText(file);
                }
            });

            // Event listener for HTML file upload
            htmlUploadInput.addEventListener("change", function (event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        const htmlMessage = `<p class="bot-message">That upload makes me feel upgraded! What's that website you got there?</p>`;
                        chatLog.innerHTML += htmlMessage;
                        chatLog.scrollTop = chatLog.scrollHeight;
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Initial bot greeting
            const initialGreeting = randomChoice(greetings);
            const botGreeting = `<p class="bot-message">${initialGreeting}</p>`;
            chatLog.innerHTML += botGreeting;
            userInput.focus();
        });
    </script>
</body>
</html>
